import{s as J,n as H,c as he,u as de,g as pe,d as ge,f as be,t as le,b as se}from"../chunks/scheduler.0318841a.js";import{S as K,i as L,e as z,a as b,f as m,m as P,n as I,g as O,h as B,j as X,k as E,A as fe,d as y,t as $,s as A,r as Q,y as ye,c as C,z as ve,u as R,x as k,v as S,b as Y,B as ae,w as Z,p as M,o as _e}from"../chunks/index.d6d1d20e.js";import{S as ke}from"../chunks/stack.ae14eaca.js";function G(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}var N=(n=>(n.x="X",n.o="O",n.Empty="",n))(N||{}),T=(n=>(n[n.Playing=0]="Playing",n[n.Draw=1]="Draw",n[n.Won=2]="Won",n))(T||{});function ce(){return[["","",""],["","",""],["","",""]]}function $e(n){for(const e of n)if(e.every(t=>t==="X")||e.every(t=>t==="O"))return e[0];for(let e=0;e<n[0].length;e++)if(n[0][e]&&n[0][e]===n[1][e]&&n[1][e]===n[2][e])return n[0][e];if(n[1][1]!==""){if(n[0][0]===n[1][1]&&n[1][1]==n[2][2])return n[0][0];if(n[0][2]&&n[0][2]===n[1][1]&&n[1][1]==n[2][0])return n[0][2]}}function we(n,e){return n?2:e.every(t=>t.every(l=>l!==""))?1:0}function Ee(n){let e;return{c(){e=P("O")},l(t){e=I(t,"O")},m(t,l){b(t,e,l)},d(t){t&&m(e)}}}function Pe(n){let e;return{c(){e=P("X")},l(t){e=I(t,"X")},m(t,l){b(t,e,l)},d(t){t&&m(e)}}}function Ie(n){let e;function t(i,r){return i[0]===N.x?Pe:Ee}let l=t(n),s=l(n);return{c(){s.c(),e=z()},l(i){s.l(i),e=z()},m(i,r){s.m(i,r),b(i,e,r)},p(i,[r]){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},i:H,o:H,d(i){i&&m(e),s.d(i)}}}function Te(n,e,t){let{move:l}=e;return n.$$set=s=>{"move"in s&&t(0,l=s.move)},[l]}class je extends K{constructor(e){super(),L(this,e,Te,Ie,J,{move:0})}}function De(n){let e,t,l,s;const i=n[2].default,r=he(i,n,n[1],null);return{c(){e=O("button"),r&&r.c(),this.h()},l(c){e=B(c,"BUTTON",{class:!0});var o=X(e);r&&r.l(o),o.forEach(m),this.h()},h(){e.disabled=n[0],E(e,"class","svelte-1xgc60j")},m(c,o){b(c,e,o),r&&r.m(e,null),t=!0,l||(s=fe(e,"click",n[3]),l=!0)},p(c,[o]){r&&r.p&&(!t||o&2)&&de(r,i,c,c[1],t?ge(i,c[1],o,null):pe(c[1]),null),(!t||o&1)&&(e.disabled=c[0])},i(c){t||(y(r,c),t=!0)},o(c){$(r,c),t=!1},d(c){c&&m(e),r&&r.d(c),l=!1,s()}}}function Oe(n,e,t){let{$$slots:l={},$$scope:s}=e,{disabled:i=!1}=e;function r(c){be.call(this,n,c)}return n.$$set=c=>{"disabled"in c&&t(0,i=c.disabled),"$$scope"in c&&t(1,s=c.$$scope)},[i,s,l,r]}class Be extends K{constructor(e){super(),L(this,e,Oe,De,J,{disabled:0})}}function re(n,e,t){const l=n.slice();return l[12]=e[t],l[14]=t,l}function ie(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}function Ne(n){let e,t;function l(){return n[8](n[14],n[17])}return e=new Be({props:{disabled:n[3]!==T.Playing}}),e.$on("click",l),{c(){Q(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){S(e,s,i),t=!0},p(s,i){n=s;const r={};i&8&&(r.disabled=n[3]!==T.Playing),e.$set(r)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){$(e.$$.fragment,s),t=!1},d(s){Z(e,s)}}}function Ae(n){let e,t;return e=new je({props:{move:n[15]}}),{c(){Q(e.$$.fragment)},l(l){R(e.$$.fragment,l)},m(l,s){S(e,l,s),t=!0},p(l,s){const i={};s&1&&(i.move=l[15]),e.$set(i)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function oe(n){let e,t,l,s,i;const r=[Ae,Ne],c=[];function o(a,p){return a[15]!==N.Empty?0:1}return t=o(n),l=c[t]=r[t](n),{c(){e=O("div"),l.c(),s=A(),this.h()},l(a){e=B(a,"DIV",{class:!0});var p=X(e);l.l(p),s=C(p),p.forEach(m),this.h()},h(){E(e,"class","flex flex-col aspect-square bg-surface0 items-center justify-center text-3xl")},m(a,p){b(a,e,p),c[t].m(e,null),k(e,s),i=!0},p(a,p){let g=t;t=o(a),t===g?c[t].p(a,p):(M(),$(c[g],1,1,()=>{c[g]=null}),Y(),l=c[t],l?l.p(a,p):(l=c[t]=r[t](a),l.c()),y(l,1),l.m(e,s))},i(a){i||(y(l),i=!0)},o(a){$(l),i=!1},d(a){a&&m(e),c[t].d()}}}function ue(n){let e,t,l=G(n[12]),s=[];for(let r=0;r<l.length;r+=1)s[r]=oe(ie(n,l,r));const i=r=>$(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=z()},l(r){for(let c=0;c<s.length;c+=1)s[c].l(r);e=z()},m(r,c){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(r,c);b(r,e,c),t=!0},p(r,c){if(c&73){l=G(r[12]);let o;for(o=0;o<l.length;o+=1){const a=ie(r,l,o);s[o]?(s[o].p(a,c),y(s[o],1)):(s[o]=oe(a),s[o].c(),y(s[o],1),s[o].m(e.parentNode,e))}for(M(),o=l.length;o<s.length;o+=1)i(o);Y()}},i(r){if(!t){for(let c=0;c<l.length;c+=1)y(s[c]);t=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);t=!1},d(r){r&&m(e),ae(s,r)}}}function Ce(n){let e,t,l;return{c(){e=P("It's "),t=P(n[2]),l=P("'s turn")},l(s){e=I(s,"It's "),t=I(s,n[2]),l=I(s,"'s turn")},m(s,i){b(s,e,i),b(s,t,i),b(s,l,i)},p(s,i){i&4&&_e(t,s[2])},d(s){s&&(m(e),m(t),m(l))}}}function Xe(n){let e;return{c(){e=P("It's a draw!")},l(t){e=I(t,"It's a draw!")},m(t,l){b(t,e,l)},p:H,d(t){t&&m(e)}}}function qe(n){let e,t;return{c(){e=P(n[1]),t=P(" won.")},l(l){e=I(l,n[1]),t=I(l," won.")},m(l,s){b(l,e,s),b(l,t,s)},p(l,s){s&2&&_e(e,l[1])},d(l){l&&(m(e),m(t))}}}function xe(n){let e,t,l,s,i,r,c,o,a,p,g,V="Go back",q,w,h,j,ee,D=G(n[0]),_=[];for(let u=0;u<D.length;u+=1)_[u]=ue(re(n,D,u));const me=u=>$(_[u],1,1,()=>{_[u]=null});function te(u,d){return u[3]===T.Won?qe:u[3]===T.Draw?Xe:Ce}let W=te(n),v=W(n);return w=new ke({}),{c(){e=A(),t=O("main"),l=O("div");for(let u=0;u<_.length;u+=1)_[u].c();s=A(),i=O("div"),v.c(),r=A(),c=O("button"),o=P("Play again?"),p=A(),g=O("a"),g.textContent=V,q=A(),Q(w.$$.fragment),this.h()},l(u){ye("svelte-8wjne5",document.head).forEach(m),e=C(u),t=B(u,"MAIN",{class:!0});var f=X(t);l=B(f,"DIV",{class:!0});var x=X(l);for(let F=0;F<_.length;F+=1)_[F].l(x);x.forEach(m),s=C(f),i=B(f,"DIV",{class:!0});var U=X(i);v.l(U),r=C(U),c=B(U,"BUTTON",{class:!0});var ne=X(c);o=I(ne,"Play again?"),ne.forEach(m),U.forEach(m),p=C(f),g=B(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),ve(g)!=="svelte-1ljm2tu"&&(g.textContent=V),q=C(f),R(w.$$.fragment,f),f.forEach(m),this.h()},h(){document.title="Tic-Tac-Toe",E(l,"class","board svelte-1a9p5y2"),E(c,"class",a="text-blue bold italic "+(n[3]!==T.Playing?"":"hidden")),E(i,"class","text-3xl pt-5"),E(g,"href","../bye"),E(g,"class","text-1xl text-subtext1 pt-5"),E(t,"class","flex flex-col h-screen w-screen items-center justify-center text-center")},m(u,d){b(u,e,d),b(u,t,d),k(t,l);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(l,null);n[9](l),k(t,s),k(t,i),v.m(i,null),k(i,r),k(i,c),k(c,o),n[10](i),k(t,p),k(t,g),k(t,q),S(w,t,null),h=!0,j||(ee=fe(c,"click",n[7]),j=!0)},p(u,[d]){if(d&73){D=G(u[0]);let f;for(f=0;f<D.length;f+=1){const x=re(u,D,f);_[f]?(_[f].p(x,d),y(_[f],1)):(_[f]=ue(x),_[f].c(),y(_[f],1),_[f].m(l,null))}for(M(),f=D.length;f<_.length;f+=1)me(f);Y()}W===(W=te(u))&&v?v.p(u,d):(v.d(1),v=W(u),v&&(v.c(),v.m(i,r))),(!h||d&8&&a!==(a="text-blue bold italic "+(u[3]!==T.Playing?"":"hidden")))&&E(c,"class",a)},i(u){if(!h){for(let d=0;d<D.length;d+=1)y(_[d]);y(w.$$.fragment,u),h=!0}},o(u){_=_.filter(Boolean);for(let d=0;d<_.length;d+=1)$(_[d]);$(w.$$.fragment,u),h=!1},d(u){u&&(m(e),m(t)),ae(_,u),n[9](null),v.d(),n[10](null),Z(w),j=!1,ee()}}}function Ve(n,e,t){let l,s=ce(),i=N.o,r=T.Playing,c,o;function a(h,j){t(0,s[h][j]=i,s),t(2,i=i===N.o?N.x:N.o),le().then(p)}function p(){const h=c.querySelector("button:not(:disabled)");h?h.focus():o.focus()}function g(){t(0,s=ce()),le().then(p)}const V=(h,j)=>a(h,j);function q(h){se[h?"unshift":"push"](()=>{c=h,t(4,c)})}function w(h){se[h?"unshift":"push"](()=>{o=h,t(5,o)})}return n.$$.update=()=>{n.$$.dirty&1&&t(1,l=$e(s)),n.$$.dirty&3&&t(3,r=we(l,s))},[s,l,i,r,c,o,a,g,V,q,w]}class Ge extends K{constructor(e){super(),L(this,e,Ve,xe,J,{})}}export{Ge as component};
